#ROW_NUMBER(), RANK(), DENSE_RANK() WITH EXAMPLE

SELECT 
  e.EMPLOYEE_ID, 
  e.DEPARTMENT_ID,
  e.SALARY,  
  SUM(e.SALARY) OVER (PARTITION BY e.DEPARTMENT_ID) AS DEPT_SALARY,  
  SUM(e.SALARY) OVER (PARTITION BY e.JOB_ID) AS EXPERTISE_SALARY,  
  ROW_NUMBER() OVER (PARTITION BY e.DEPARTMENT_ID ORDER BY e.SALARY DESC ) AS ROW_NUM ,  
  RANK() OVER (PARTITION BY e.DEPARTMENT_ID ORDER BY e.SALARY DESC ) AS RANK_NUM,  
  DENSE_RANK() OVER (PARTITION BY e.DEPARTMENT_ID ORDER BY e.SALARY DESC ) AS D_RANK_NUM  
FROM hr.employees e    
ORDER BY e.DEPARTMENT_ID,e.SALARY DESC ;

EMPLOYEE_ID	DEPARTMENT_ID	SALARY	DEPT_SALARY	EXPERTISE_SALARY	ROW_NUM	RANK_NUM	D_RANK_NUM
200	10	4400	4400	4400	1	1	1
201	20	13000	19000	13000	1	1	1
202	20	6000	19000	6000	2	2	2
114	30	11000	24900	11000	1	1	1
115	30	3100	24900	13900	2	2	2
116	30	2900	24900	13900	3	3	3
117	30	2800	24900	13900	4	4	4
118	30	2600	24900	13900	5	5	5
119	30	2500	24900	13900	6	6	6
203	40	6500	6500	6500	1	1	1
121	50	8200	156400	36400	1	1	1
120	50	8000	156400	36400	2	2	2
122	50	7900	156400	36400	3	3	3
123	50	6500	156400	36400	4	4	4
124	50	5800	156400	36400	5	5	5
184	50	4200	156400	64300	6	6	6
185	50	4100	156400	64300	7	7	7
192	50	4000	156400	64300	8	8	8
193	50	3900	156400	64300	9	9	9
188	50	3800	156400	64300	10	10	10
189	50	3600	156400	64300	11	11	11
137	50	3600	156400	55700	12	11	11
141	50	3500	156400	55700	13	13	12
186	50	3400	156400	64300	14	14	13
129	50	3300	156400	55700	15	15	14
133	50	3300	156400	55700	16	15	14
180	50	3200	156400	64300	17	17	15
138	50	3200	156400	55700	18	17	15
125	50	3200	156400	55700	19	17	15

